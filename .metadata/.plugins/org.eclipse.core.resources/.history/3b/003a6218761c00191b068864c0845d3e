<%@ page language="java" contentType="text/html; charset=EUC-KR"
	pageEncoding="EUC-KR"%>

<%
	//Korean Encoding
	request.setCharacterEncoding("EUC-KR");
	//1.	
	String id = request.getParameter("id");

	//2. (trim = 앞 뒤의 불필요한 space지우기)
	if (id == null || id.trim().equals("") || name == null || name.trim().equals("") || cname == null
			|| cname.trim().equals("")) {
%><script>
	alert("Type ID");
	history.back();
</script>
<%
	}

	Class.forName("oracle.jdbc.driver.OracleDriver");
	String url = "jdbc:oracle:thin:@localhost:1521:xe";
	String user = "jsp01";
	String pass = "jsp01";
	Connection conn = DriverManager.getConnection(url, user, pass);

	String sql = "DELETE jspstudent WHERE id=?";
	PreparedStatement ps = conn.prepareStatement(sql);
	ps.setString(1, id);
	int res = ps.executeUpdate();

	//6. Query가 성공하면 res = 1; 실패하면 res = 0;
	if (res > 0) {
%><script>
	alert("Success!! Move to student list page.");
	location.href = "list.jsp";
</script>
<%
	}
%>